<!DOCTYPE html>
<html lang="en">

<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Document</title>
</head>
<script src="https://ajax.googleapis.com/ajax/libs/jquery/3.4.1/jquery.min.js"></script>
<script src="animalese/riffwave.js"></script>
<script src="animalese/Blob.js"></script>
<script src="animalese/FileSaver.min.js"></script>
<script src="animalese/animalese.js"></script>
<script>
    function dataURItoBlob(dataURI) {
        // convert base64/URLEncoded data component to raw binary data held in a string
        var byteString;
        if (dataURI.split(',')[0].indexOf('base64') >= 0)
            byteString = atob(dataURI.split(',')[1]);
        else
            byteString = unescape(dataURI.split(',')[1]);

        // separate out the mime component
        var mimeString = dataURI.split(',')[0].split(':')[1].split(';')[0]

        // write the bytes of the string to a typed array
        var ia = new Uint8Array(byteString.length);
        for (var i = 0; i < byteString.length; i++) {
            ia[i] = byteString.charCodeAt(i);
        }

        return new Blob([ia], { type: mimeString });
    }

    var synth = new Animalese('animalese/animalese.wav', function () {
    });

    function generateWav() {
        return synth.Animalese(words, true, 1).dataURI
    }

    function speakingNoise() {
        var audio = new Audio();
        audio.src = generateWav();
        audio.play();
    }

</script>

<body>
    <div id="app"></div>

    <button id="preview" type="button" onclick="speaking()">Go!</button>
    <script src="https://unpkg.com/typewriter-effect@latest/dist/core.js"></script>
    <script src="js/logic.js"></script>
</body>


</html>